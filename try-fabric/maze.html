<html>
  <head>
    <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.js'></script>
    <script src='//cdnjs.cloudflare.com/ajax/libs/fabric.js/1.3.0/fabric.min.js'></script>
    <script src='maze.js'></script>
    <style type='text/css'>
      #canvas {
          width: 100%;
          height: 100%;
      }
    </style>
  </head>
  <body>
    <h1>Try fabric.js</h1>
    <p>Use the query string parameter `use_fabric=true` to get this maze rendered
      using fabric.js.
    <p>It seems that it is very slow. It's even unacceptably slow after I tried some
      of the optimizations suggested
      <a href='https://github.com/kangax/fabric.js/wiki/Optimizing-performance'>here</a>;
      viz., setting `object.selectable=false` on the rectangles, and
      `canvas.selection = false` on the canvas itself.</p>
    <p>I thought of trying to use `path`s instead of rectangles, but decided not to
      bother with the experiment, because from what I can tell, paths in fabric.js are always
      closed polygons (unlike open, stroked things like they are in postscript) and always 
      "objects" in the same sense that rectangles are, so they would, I think, be just
      as slow.</p>

   <canvas id='canvas' width='1000' height='1000'></canvas>

   <h2>Thank you sir may I have another?</h2>
   <form action='maze.html' method='GET'>
     <table>
       <tr>
         <td><label for='r'>Rows:</label></td>
         <td><input id='r' name='r' type='text' value='20' /></td>
       </tr>
       <tr>
         <td><label for='c'>Columns:</label></td>
         <td><input id='c' name='c' type='text' value='20' /></td>
       </tr>
       <tr>
         <td><label for='wt'>Wall thickness:</label></td>
         <td><input id='wt' name='wt' type='text' value='6' /></td>
       </tr>
       <tr>
         <td><label for='clr'>Color:</label></td>
         <td><input id='clr' name='clr' type='text' value='red' /></td>
       </tr>
     </table>
     <input type='submit'/>
   </form>
  </body>
</html>
